<form [formGroup]="form">
  <section>
    <sci-form-field label="Component">
      <select [formControl]="form.controls.component" class="e2e-component">
        <option value="notification-page">NotificationPageComponent</option>
        <option value="focus-test-page">FocusTestPageComponent</option>
        <option value="dialog-opener-page">DialogOpenerPageComponent</option>
        <option value="legacy-notification-page">LegacyNotificationPageComponent</option>
        <option value="">default</option>
      </select>
    </sci-form-field>

    @if (!isUseComponent()) {
      <sci-form-field label="Text">
        <input [formControl]="form.controls.text" class="e2e-text">
      </sci-form-field>
    }

    @if (isUseComponent()) {
      <sci-form-field label="Inputs">
        @if (form.controls.legacyAPI.value) {
          <input [formControl]="form.controls.options.controls.inputLegacy" class="e2e-input" placeholder="Data to pass to the notification component">
        } @else {
          <sci-key-value-field [keyValueFormArray]="form.controls.options.controls.inputs" [addable]="true" [removable]="true" class="e2e-inputs"/>
        }
      </sci-form-field>
    }
  </section>

  <section>
    <sci-form-field label="Title">
      <input [formControl]="form.controls.options.controls.title" class="e2e-title">
    </sci-form-field>

    <sci-form-field label="Severity">
      <select [formControl]="form.controls.options.controls.severity" class="e2e-severity">
        <option value="info">info</option>
        <option value="warn">warn</option>
        <option value="error">error</option>
        <option value="">default</option>
      </select>
    </sci-form-field>

    <sci-form-field label="Duration">
      <input [formControl]="form.controls.options.controls.duration" [attr.list]="durationList" class="e2e-duration">
      <datalist [attr.id]="durationList">
        <option value="short">short</option>
        <option value="medium">medium</option>
        <option value="long">long</option>
        <option value="infinite">infinite</option>
        <option value="">default</option>
      </datalist>
    </sci-form-field>

    <sci-form-field label="Group">
      <input [formControl]="form.controls.options.controls.group" class="e2e-group">
    </sci-form-field>

    <sci-form-field label="Group Input Reducer">
      <select [formControl]="form.controls.options.controls.groupInputReduceFn" class="e2e-group-input-reducer">
        <option value="concat-input-reducer">Input Concatenator</option>
        <option value="concat-input-async-reducer">Async Input Concatenator</option>
        <option value="concat-input-legacy-reducer">Legacy Input Concatenator</option>
        <option value="">none</option>
      </select>
    </sci-form-field>

    <sci-form-field label="CSS Class(es)">
      <app-multi-value-input [formControl]="form.controls.options.controls.cssClass" [placeholder]="'class-1 class-2'" class="e2e-class"/>
    </sci-form-field>
  </section>

  <section>
    <sci-form-field label="Notification Count">
      <input [formControl]="form.controls.count" type="number" class="e2e-count">
    </sci-form-field>

    <sci-form-field label="Legacy API">
      <sci-checkbox [formControl]="form.controls.legacyAPI" class="e2e-legacy-api"/>
    </sci-form-field>
  </section>
</form>

<button (click)="onNotificationShow()" class="e2e-show" [disabled]="form.invalid" sci-primary>
  Show notification
</button>

@if (notificationOpenError) {
  <output class="notification-open-error e2e-notification-open-error">
    {{notificationOpenError}}
  </output>
}
