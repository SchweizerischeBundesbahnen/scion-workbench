<form autocomplete="off" [formGroup]="form">
  <header>Routing Command</header>

  <sci-form-field label="Path">
    <input [formControlName]="PATH" class="e2e-path" list="routes">
    <datalist id="routes">
      <option *ngFor="let route of routes" [value]="route.path">{{route.path}}</option>
    </datalist>
  </sci-form-field>

  <sci-form-field label="Matrix parameters">
    <sci-params-enter [paramsFormArray]="$any(form.get(MATRIX_PARAMS))" [addable]="true" [removable]="true" class="e2e-matrix-params"></sci-params-enter>
  </sci-form-field>

  <sci-form-field label="Navigational state">
    <sci-params-enter [paramsFormArray]="$any(form.get(NAVIGATIONAL_STATE))" [addable]="true" [removable]="true" class="e2e-navigational-state"></sci-params-enter>
  </sci-form-field>
</form>

<form autocomplete="off" [formGroup]="form">
  <header>Navigation Extras</header>

  <sci-form-field label="Target">
    <input [formControlName]="TARGET" class="e2e-target" list="targets">
    <datalist id="targets">
      <option value="auto">auto</option>
      <option value="blank">blank</option>
    </datalist>
  </sci-form-field>

  <sci-form-field label="Part ID" *ngIf="form.get(TARGET).value === 'blank'">
    <input [formControlName]="BLANK_PART_ID" class="e2e-blank-part-id" list="parts">
    <datalist id="parts">
      <option *ngFor="let part of workbenchService.parts$ | async" [value]="part.id">{{part.id}}</option>
    </datalist>
  </sci-form-field>

  <sci-form-field label="InsertionIndex">
    <input [formControlName]="INSERTION_INDEX" list="insertionIndexHints" class="e2e-insertion-index">
    <datalist id="insertionIndexHints">
      <option value="start">
      <option value="end">
    </datalist>
  </sci-form-field>

  <sci-form-field label="Query parameters">
    <sci-params-enter [paramsFormArray]="$any(form.get(QUERY_PARAMS))" [addable]="true" [removable]="true" class="e2e-query-params"></sci-params-enter>
  </sci-form-field>

  <sci-form-field label="Activate">
    <sci-checkbox [formControlName]="ACTIVATE" class="e2e-activate"></sci-checkbox>
  </sci-form-field>

  <sci-form-field label="Close">
    <sci-checkbox [formControlName]="CLOSE" class="e2e-close"></sci-checkbox>
  </sci-form-field>

  <sci-form-field label="View Context" title="Controls whether to navigate outside the view context (only relevant if navigating via router link)">
    <sci-checkbox [formControlName]="VIEW_CONTEXT" class="e2e-view-context"></sci-checkbox>
  </sci-form-field>

  <sci-form-field label="CSS Class(es)">
    <input [formControlName]="CSS_CLASS" class="e2e-css-class" placeholder="Separate multiple CSS classes by space">
  </sci-form-field>
</form>

<button (click)="onRouterNavigate()" class="e2e-router-navigate">
  Navigate via Router
</button>

<ng-container *ngTemplateOutlet="router_link; injector: form.get(VIEW_CONTEXT).value ? undefined : nullViewInjector"></ng-container>
<ng-template #router_link>
  <a [wbRouterLink]="routerLinkCommands$ | async"
     [wbRouterLinkExtras]="navigationExtras$ | async"
     class="e2e-router-link-navigate">
    Navigate via Router Link
  </a>
</ng-template>

<output class="navigate-error e2e-navigate-error" *ngIf="navigateError">
  {{navigateError}}
</output>
