:host {
  --ɵmessage-box-transform-translate-x: 0;
  --ɵmessage-box-transform-translate-y: 0;
  --ɵmessage-box-severity-color: 0;

  display: block;
  font-size: 1rem;
  border-radius: var(--sci-corner);
  color: var(--sci-color-text);
  box-shadow: var(--sci-elevation) var(--sci-static-color-black);
  background-color: var(--sci-color-background-elevation);
  outline: none;
  border-top: var(--sci-workbench-messagebox-severity-indicator-size) solid var(--ɵmessage-box-severity-color);
  transform: translateX(calc(1px * var(--ɵmessage-box-transform-translate-x))) translateY(calc(1px * var(--ɵmessage-box-transform-translate-y)));

  &.info {
    --ɵmessage-box-severity-color: var(--sci-color-accent);
  }

  &.warn {
    --ɵmessage-box-severity-color: var(--sci-color-notice);
  }

  &.error {
    --ɵmessage-box-severity-color: var(--sci-color-negative);
  }

  > header.move-handle {
    $size: calc(var(--sci-workbench-messagebox-severity-indicator-size) + 5px);
    position: absolute;
    top: calc(-1 * $size);
    height: calc(2 * $size);
    width: 100%;
  }

  > div.outline {
    display: flex;
    flex-direction: column;
    border: 1px solid var(--sci-color-border);
    border-top: none;
    border-bottom-left-radius: var(--sci-corner);
    border-bottom-right-radius: var(--sci-corner);
    overflow: hidden;

    > div.body {
      flex: auto;
      padding: 1.5em;
      max-width: var(--sci-workbench-messagebox-max-width);
      user-select: none;
      white-space: pre-line;
      overflow-wrap: break-word;

      > header {
        font-weight: bold;
        margin-bottom: 1.5em;
      }
    }

    > div.button-bar {
      flex: none;
      height: 3em;
      display: flex;
      margin-top: 1em;
      background-color: var(--sci-color-background-secondary);
      color: var(--sci-color-text);
      border-top: 1px solid var(--sci-color-border);

      > div.button-outline {
        flex: 1 1 0;
        display: grid;
        min-width: 7.5em;

        &:not(:first-child) {
          border-left: 1px solid var(--sci-color-border);
        }

        > button.action {
          all: unset;
          margin: 2px;
          border: 1px solid transparent;
          border-radius: var(--sci-corner-small);
          transition: border-color ease-in-out .15s;
          cursor: pointer;
          user-select: none;
          text-align: center;

          &:focus, &:active {
            outline: none;
            color: var(--ɵmessage-box-severity-color);
            border-color: var(--ɵmessage-box-severity-color);
          }
        }
      }
    }
  }

  &.blinking {
    animation-duration: 50ms;
    animation-iteration-count: infinite;
    animation-name: blink-animation;

    @keyframes blink-animation {
      from {
        transform: translateX(calc(calc(1px * var(--ɵmessage-box-transform-translate-x)) - 2px)) translateY(calc(calc(1px * var(--ɵmessage-box-transform-translate-y)) - 1px));
      }
      to {
        transform: translateX(calc(calc(1px * var(--ɵmessage-box-transform-translate-x)) + 2px)) translateY(calc(calc(1px * var(--ɵmessage-box-transform-translate-y)) + 1px));
      }
    }
  }

  &.text-selectable {
    > div.outline > div.body {
      user-select: text;
    }
  }
}
